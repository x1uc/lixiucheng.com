#!/usr/bin/env bash

# Exit build script on first failure.
set -e

# Exit on unset variable.
set -u

# Change directory to repository root.
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"
readonly SCRIPT_DIR
cd "${SCRIPT_DIR}/../.."

echo "Running pre-commit checks..."

# Check code formatting with Prettier
echo "Checking code formatting..."
./dev-scripts/check-formatting

# Check for trailing whitespace
echo "Checking for trailing whitespace..."
./dev-scripts/check-trailing-whitespace

# Check for trailing newlines
echo "Checking for trailing newlines..."
./dev-scripts/check-trailing-newline

echo "Markdown linting..."
./dev-scripts/lint-markdown

echo "All pre-commit checks passed!"
